## 关于Arm内存模型

ARM采用一个弱一致性内存模型，即访存的观察（Observation）和完成（Completion）可以异于程序顺序（Program Order）。一般来说，Armv8的内存模型基本原则是：

* 提供一个与高级语言（如Java/C++）中一样弱的限制的内存模型。
* 在大多数内存类型中，避免对于multi-copy原子性的需求。
* 对于指令和内存屏障的一些规定，为multi-copy原子性的缺失进行了补偿。
* 后面两条没太看懂。

***

地址空间。

地址计算使用64位寄存器完成。如果在高特权级启用地址标签模式后，地址中最高的8位将作为一个标签，它们不会用来验证地址是否合法，也不会被传给PC。高特权级软件决定可用的虚拟地址区间，超出区间的访问将产生MMU Fault。

***

内存类型。

Armv8提供以下互斥的内存类型：

*Normal*:用于批量的内存操作，可读可写或只读

*Device*:禁止对于任何类型的设备内存的Speculative读入？